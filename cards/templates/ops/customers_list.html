{% extends "ops/base.html" %}

{% block content %}
<h3 class="text-2xl font-semibold">Customers</h3>
<div class="mt-4 overflow-x-auto rounded-2xl border border-tt-border bg-tt-panel/80">
    <table class="min-w-full text-sm">
        <thead class="border-b border-tt-border/60 text-left text-xs uppercase tracking-[0.2em] text-tt-muted">
            <tr>
                <th class="px-4 py-3">Name</th>
                <th class="px-4 py-3">Contact</th>
                <th class="px-4 py-3">Package</th>
                <th class="px-4 py-3">Status</th>
                <th class="px-4 py-3">Renewal</th>
                <th class="px-4 py-3"></th>
            </tr>
        </thead>
        <tbody>
            {% for customer in customers %}
            <tr class="border-b border-tt-border/40">
                <td class="px-4 py-3 font-semibold">{{ customer.full_name }}</td>
                <td class="px-4 py-3 text-tt-muted">
                    <div>{{ customer.email }}</div>
                    <div>{{ customer.phone }}</div>
                </td>
                <td class="px-4 py-3">{{ customer.get_package_display }}</td>
                <td class="px-4 py-3 text-tt-muted">{{ customer.get_status_display }}</td>
                <td class="px-4 py-3 text-tt-muted">{% if customer.profile %}{{ customer.profile.hosting_expires_at|date:"M d, Y" }}{% endif %}</td>
                <td class="px-4 py-3 text-right">
                    <a class="rounded-full border border-tt-border px-3 py-1 text-xs font-semibold text-slate-100 hover:border-tt-accent hover:text-tt-accent" href="/admin/customers/{{ customer.id }}/">View</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
